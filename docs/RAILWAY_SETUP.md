# Railway éƒ¨ç½²é…ç½®æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ç¯å¢ƒå˜é‡é…ç½®

åœ¨ Railway é¡¹ç›®çš„ **Variables** ä¸­é…ç½®ä»¥ä¸‹å¿…éœ€å˜é‡ï¼š

```bash
# å¿…éœ€ï¼šé’±åŒ…è®¤è¯
PRIVATE_KEY=ä½ çš„é’±åŒ…ç§é’¥
FUNDER_ADDRESS=ä½ çš„Polymarketä»£ç†é’±åŒ…åœ°å€

# å¿…éœ€ï¼šè¿è¡Œæ¨¡å¼
PAPER_TRADING=true  # true=çº¸é¢æ¨¡å¼ï¼ˆåªæ£€æµ‹ä¸ä¸‹å•ï¼‰ï¼Œfalse=å®ç›˜æ¨¡å¼

# å¯é€‰ï¼šTelegram é€šçŸ¥ï¼ˆæ¨èé…ç½®ï¼‰
TELEGRAM_BOT_TOKEN=ä½ çš„Telegram Bot Token
TELEGRAM_CHAT_ID=ä½ çš„Telegram Chat IDï¼ˆ@polysportarb çš„ chat_idï¼‰
```

### 2. å¯ç”¨ä¸‰ç§å¥—åˆ©ç­–ç•¥

é»˜è®¤é…ç½®ï¼ˆ`config/config.example.yaml`ï¼‰ï¼š
- âœ… **Taker Arbï¼ˆMerge å¥—åˆ©ï¼‰**ï¼šé»˜è®¤å¯ç”¨ (`merge_arb_enabled: true`)
- âœ… **Split Arbï¼ˆæ‹†åˆ†å¥—åˆ©ï¼‰**ï¼šé»˜è®¤å¯ç”¨ (`split_arb_enabled: true`)
- âŒ **Maker Arbï¼ˆåšå¸‚å•†å¥—åˆ©ï¼‰**ï¼šé»˜è®¤å…³é—­ (`maker_arb_enabled: false`)

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ¨èï¼‰

åœ¨ Railway é¡¹ç›®ä¸­åˆ›å»º `config/config.yaml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yaml
# å¥—åˆ©ç­–ç•¥å¼€å…³
merge_arb_enabled: true   # Taker å¥—åˆ©ï¼ˆç«‹å³ä¹°å…¥ï¼‰
split_arb_enabled: true   # Split å¥—åˆ©ï¼ˆæ‹†åˆ† USDCï¼‰
maker_arb_enabled: true   # Maker å¥—åˆ©ï¼ˆæŒ‚å•ç­‰å¾…ï¼‰

# å¥—åˆ©å‚æ•°
min_profit: 0.05          # æœ€å°åˆ©æ¶¦é˜ˆå€¼ï¼ˆç¾å…ƒï¼‰ï¼Œæµ‹è¯•æ—¶å¯è®¾ä¸º 0.05
fee_bps: 0                # æ‰‹ç»­è´¹ï¼ˆPolymarket ç›®å‰æ— æ‰‹ç»­è´¹ï¼‰

# Maker ç­–ç•¥å‚æ•°
maker_bid_spread: 0.01    # Maker ä¹°å•ä»·æ ¼ä½äº best ask çš„ä»·å·®
maker_order_timeout_sec: 300.0  # Maker è®¢å•è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰

# å¸‚åœºç›‘æ§
max_markets_monitor: 100  # ç›‘æ§å¸‚åœºæ•°é‡
live_sports_enabled: true # ç›‘æ§ Live ä½“è‚²å¸‚åœºï¼ˆæ¨èï¼‰
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆRailway Variablesï¼‰

Railway æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®ã€‚åœ¨ **Variables** ä¸­æ·»åŠ ï¼š

```bash
# ç­–ç•¥å¼€å…³ï¼ˆRailway ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶ï¼‰
MERGE_ARB_ENABLED=true
SPLIT_ARB_ENABLED=true
MAKER_ARB_ENABLED=true

# å…¶ä»–å‚æ•°
MIN_PROFIT=0.05
MAKER_BID_SPREAD=0.01
MAKER_ORDER_TIMEOUT_SEC=300
MAX_MARKETS_MONITOR=100
LIVE_SPORTS_ENABLED=true
```

### 3. Telegram é€šçŸ¥é…ç½®

#### è·å– @polysportarb çš„ Chat ID

1. åœ¨ Telegram ä¸­æ‰¾åˆ°ä½ çš„ Botï¼ˆä¾‹å¦‚ `@polysportarb`ï¼‰
2. ç»™ Bot å‘é€ä¸€æ¡æ¶ˆæ¯ï¼ˆä¾‹å¦‚ `/start`ï¼‰
3. è®¿é—®ï¼š`https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
4. åœ¨è¿”å›çš„ JSON ä¸­æ‰¾åˆ° `chat.id`ï¼Œè¿™å°±æ˜¯ `TELEGRAM_CHAT_ID`

**æ³¨æ„**ï¼šå¦‚æœ `@polysportarb` æ˜¯ä¸€ä¸ª Channelï¼ˆé¢‘é“ï¼‰ï¼š
- éœ€è¦å°† Bot æ·»åŠ ä¸º Channel çš„ç®¡ç†å‘˜
- Chat ID é€šå¸¸æ˜¯è´Ÿæ•°ï¼ˆä¾‹å¦‚ `-1001234567890`ï¼‰

#### é…ç½®ç¯å¢ƒå˜é‡

åœ¨ Railway **Variables** ä¸­è®¾ç½®ï¼š

```bash
TELEGRAM_BOT_TOKEN=ä½ çš„Bot Token
TELEGRAM_CHAT_ID=@polysportarbçš„chat_id
```

### 4. å¯åŠ¨å‘½ä»¤

Railway ä¼šè‡ªåŠ¨æ£€æµ‹ `requirements.txt` å¹¶å®‰è£…ä¾èµ–ã€‚

å¯åŠ¨å‘½ä»¤ï¼ˆRailway ä¼šè‡ªåŠ¨è®¾ç½®ï¼‰ï¼š
```bash
python -u -m src.main
```

å»ºè®®åœ¨ **Variables** ä¸­æ·»åŠ ï¼š
```bash
PYTHONUNBUFFERED=1  # ç¡®ä¿æ—¥å¿—å®æ—¶è¾“å‡º
```

## å¸‚åœºç›‘æ§è¯´æ˜

### ç›‘æ§ç­–ç•¥

ç³»ç»Ÿé»˜è®¤åŒæ—¶ç›‘æ§ä¸¤ä¸ªæ•°æ®æºï¼Œåˆå¹¶å»é‡ï¼š

1. **Live Sports å¸‚åœº**ï¼š
   - æ¥æºï¼š`polymarket.com/sports/live`
   - ç‰¹ç‚¹ï¼šæ­£åœ¨è¿›è¡Œçš„ä½“è‚²æ¯”èµ›ï¼Œå®æ—¶äº¤æ˜“é‡å¤§
   - è·å–æ–¹å¼ï¼šä½¿ç”¨ `tag_slug="sports"` è·å–ä½“è‚²äº‹ä»¶ï¼Œè¿‡æ»¤ `live=true`

2. **Top10 by Volume å¸‚åœº**ï¼š
   - æ¥æºï¼šPolymarket 24å°æ—¶äº¤æ˜“é‡ Top 100
   - ç‰¹ç‚¹ï¼šå…¨å¹³å°æœ€æ´»è·ƒçš„å¸‚åœº
   - è·å–æ–¹å¼ï¼šæŒ‰ `volume24hrClob` æ’åºï¼Œå–å‰ N ä¸ª

3. **åˆå¹¶å»é‡**ï¼š
   - åŸºäº `condition_id` å»é‡
   - é™åˆ¶æ€»æ•°ä¸º `max_markets_monitor`ï¼ˆé»˜è®¤ 100ï¼‰

**ä¼˜åŠ¿**ï¼š
- Live Sports å¸‚åœºé€šå¸¸äº¤æ˜“æ´»è·ƒï¼Œå¥—åˆ©æœºä¼šå¤š
- Top10 by Volume ç¡®ä¿è¦†ç›–å…¨å¹³å°æœ€æ´»è·ƒçš„å¸‚åœº
- åˆå¹¶åæ´»è·ƒå¸‚åœºæ•°é‡æ˜¾è‘—å¢åŠ 

## ç­–ç•¥è¯´æ˜

### Taker Arbï¼ˆåƒå•å¥—åˆ©ï¼‰
- **æ£€æµ‹**ï¼š`ask_yes + ask_no < 1`
- **æ“ä½œ**ï¼šç«‹å³ä¹°å…¥ YES + NO
- **ç»“ç®—**ï¼šç­‰å¾…äº‹ä»¶ç»“ç®—æˆ–ç«‹å³åˆå¹¶æˆ USDC
- **ä¼˜åŠ¿**ï¼šç«‹å³æˆäº¤ï¼Œé”å®šåˆ©æ¶¦

### Split Arbï¼ˆæ‹†åˆ†å¥—åˆ©ï¼‰
- **æ£€æµ‹**ï¼š`bid_yes + bid_no > 1`
- **æ“ä½œ**ï¼šç”¨ USDC æ‹†åˆ†æˆ YES+NOï¼Œç„¶åå–å‡º
- **ç»“ç®—**ï¼šç¬é—´ç»“ç®—
- **ä¼˜åŠ¿**ï¼šæ— éœ€ç­‰å¾…ï¼Œèµ„é‡‘å‘¨è½¬å¿«

### Maker Arbï¼ˆåšå¸‚å•†å¥—åˆ©ï¼‰
- **æ£€æµ‹**ï¼š`ask_yes + ask_no < 1`
- **æ“ä½œ**ï¼šæŒ‚ Maker ä¹°å•ç­‰å¾…æˆäº¤
- **ç»“ç®—**ï¼šç­‰å¾…æˆäº¤åç»“ç®—
- **ä¼˜åŠ¿**ï¼šå¯èƒ½è·å¾— Maker è¿”ä½£
- **é£é™©**ï¼šéƒ¨åˆ†æˆäº¤é£é™©ï¼Œéœ€è¦ç›‘æ§è®¢å•çŠ¶æ€

## ç›‘æ§ä¸æ—¥å¿—

### Railway Deploy Logs

åœ¨ Railway æ§åˆ¶å°çš„ **Deploy Logs** ä¸­å¯ä»¥æŸ¥çœ‹ï¼š
- å¥—åˆ©æœºä¼šæ£€æµ‹æ—¥å¿—
- è®¢å•æ‰§è¡Œæ—¥å¿—
- Telegram æ¨é€çŠ¶æ€
- è®¢å•ç°¿å¿«ç…§ï¼ˆWorkbookï¼‰

### Telegram é€šçŸ¥

é…ç½® Telegram åï¼Œä¼šæ”¶åˆ°ï¼š
- ğŸ”” **Taker å¥—åˆ©æœºä¼š**ï¼šç«‹å³ä¹°å…¥æœºä¼š
- ğŸš€ **Split å¥—åˆ©æœºä¼š**ï¼šæ‹†åˆ†å¥—åˆ©æœºä¼šï¼ˆç¬é—´ç»“ç®—ï¼‰
- ğŸ“Š **Maker å¥—åˆ©æœºä¼š**ï¼šåšå¸‚å•†å¥—åˆ©æœºä¼š
- â± **å¿ƒè·³æ¶ˆæ¯**ï¼šæ¯å°æ—¶æ¨é€ä¸€æ¬¡ï¼Œç¡®è®¤æœåŠ¡è¿è¡Œä¸­

## æ•…éšœæ’æŸ¥

### 1. Telegram æœªæ”¶åˆ°é€šçŸ¥

æ£€æŸ¥ï¼š
- `TELEGRAM_BOT_TOKEN` æ˜¯å¦æ­£ç¡®
- `TELEGRAM_CHAT_ID` æ˜¯å¦æ­£ç¡®ï¼ˆæ³¨æ„ Channel çš„ chat_id æ˜¯è´Ÿæ•°ï¼‰
- Bot æ˜¯å¦æœ‰å‘é€æ¶ˆæ¯çš„æƒé™ï¼ˆChannel éœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
- Railway Logs ä¸­æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### 2. ç­–ç•¥æœªæ£€æµ‹åˆ°æœºä¼š

æ£€æŸ¥ï¼š
- `min_profit` æ˜¯å¦è®¾ç½®è¿‡é«˜ï¼ˆå»ºè®®æµ‹è¯•æ—¶è®¾ä¸º 0.05ï¼‰
- `merge_arb_enabled`ã€`split_arb_enabled`ã€`maker_arb_enabled` æ˜¯å¦éƒ½è®¾ä¸º `true`
- `live_sports_enabled` æ˜¯å¦è®¾ä¸º `true`ï¼ˆé»˜è®¤å¯ç”¨ï¼Œä¼šåŒæ—¶ç›‘æ§ Live Sports å’Œ Top10ï¼‰
- Railway Logs ä¸­æ˜¯å¦æœ‰å¸‚åœºç›‘æ§æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
  - "æ‹‰å–åˆ° Live ä½“è‚²å¸‚åœºæ•°é‡: X"
  - "æ‹‰å–åˆ° Top å¸‚åœºæ•°é‡: Y"
  - "åˆå¹¶åç›‘æ§å¸‚åœºæ•°é‡: Zï¼ˆLive Sports: X, Top10: Y, å»é‡å: Zï¼‰"

### 3. è®¢å•æœªæ‰§è¡Œ

æ£€æŸ¥ï¼š
- `PAPER_TRADING` æ˜¯å¦ä¸º `false`ï¼ˆå®ç›˜æ¨¡å¼ï¼‰
- `PRIVATE_KEY` å’Œ `FUNDER_ADDRESS` æ˜¯å¦æ­£ç¡®
- Railway Logs ä¸­æ˜¯å¦æœ‰è®¤è¯é”™è¯¯

## å®‰å…¨å»ºè®®

1. **å…ˆç”¨çº¸é¢æ¨¡å¼æµ‹è¯•**ï¼šè®¾ç½® `PAPER_TRADING=true`ï¼Œè§‚å¯Ÿæ—¥å¿—å’Œ Telegram é€šçŸ¥
2. **å°é¢èµ„é‡‘æµ‹è¯•**ï¼šå®ç›˜æ—¶å…ˆç”¨å°é¢èµ„é‡‘ï¼ˆå¦‚ $100ï¼‰æµ‹è¯•
3. **ç›‘æ§æ—¥å¿—**ï¼šå®šæœŸæŸ¥çœ‹ Railway Logsï¼Œç¡®ä¿ç­–ç•¥æ­£å¸¸è¿è¡Œ
4. **ä¸è¦æäº¤å¯†é’¥**ï¼šç¡®ä¿ `.env` å’Œå¯†é’¥ä¸ä¼šæäº¤åˆ° Git

## å‚è€ƒæ–‡æ¡£

- [Telegram Bot è®¾ç½®æŒ‡å—](TELEGRAM_SETUP.md)
- [å¥—åˆ©ç­–ç•¥è¯¦ç»†è¯´æ˜](../docs/ARBITRAGE_LOGIC.md)
- [ä»£ç å®¡æŸ¥æ¸…å•](CODE_REVIEW.md)
